CREATE TABLE [transfer].[transfer](
    transferId BIGINT IDENTITY(1000, 1) NOT NULL,
    transferTypeId BIGINT NOT NULL,
    acquirerCode VARCHAR(50),
    transferIdAcquirer VARCHAR(50),
    transferIdLedger VARCHAR(50),
    transferIdIssuer VARCHAR(50),
    transferIdMerchant VARCHAR(50),
    transferDateTime DATETIME2 NOT NULL,
    localDateTime VARCHAR(14),
    settlementDate DATE,
    channelId BIGINT NOT NULL,
    channelType VARCHAR(50) NOT NULL,
    ordererId BIGINT,
    merchantId VARCHAR(50),
    merchantInvoice VARCHAR(50),
    merchantPort VARCHAR(50),
    merchantType VARCHAR(50),
    cardId BIGINT,
    sourceAccount VARCHAR(50),
    destinationAccount VARCHAR(50),
    expireTime DATETIME,
    expireCount INT,
    reversed BIT NOT NULL,
    retryTime DATETIME,
    retryCount INT,
    ledgerTxState SMALLINT,
    issuerTxState SMALLINT,
    acquirerTxState SMALLINT,
    merchantTxState SMALLINT,
    issuerId VARCHAR(50),
    ledgerId VARCHAR(50),
    transferCurrency VARCHAR(3) NOT NULL,
    transferAmount MONEY NOT NULL,
    acquirerFee MONEY DEFAULT(0),
    issuerFee MONEY DEFAULT(0),
    transferFee MONEY DEFAULT(0),
    taxVAT MONEY DEFAULT(0),
    taxWTH MONEY DEFAULT(0),
    taxOther MONEY DEFAULT(0),
    commission MONEY DEFAULT(0),
    description VARCHAR(250),
    [comment] NVARCHAR(250),
    noteToSelf NVARCHAR(250),
    utilityRef NVARCHAR(250),
    transferIdT24 VARCHAR(50),
    sourceAccountWorkingBalance MONEY,
    sourceAccountOnlineBalance MONEY,
    sourceAccountLockedBalance MONEY,
    sourceAccountNewBalance MONEY,
    sourceAccountAccountCategory NVARCHAR(50),
    sourceAccountRiskProfile NVARCHAR(50),
    destinationAccountWorkingBalance MONEY,
    destinationAccountOnlineBalance MONEY,
    destinationAccountLockedBalance MONEY,
    destinationAccountNewBalance MONEY,
    destinationAccountAccountCategory NVARCHAR(50),
    destinationAccountRiskProfile NVARCHAR(50),
    transferStatusSuccess BIT DEFAULT(1),
    CONSTRAINT [pkTransferTransfer] PRIMARY KEY CLUSTERED ([transferId] ASC),
    CONSTRAINT [fkTransferTransfer_TransferType] FOREIGN KEY([transferTypeId]) REFERENCES [core].[itemName] ([itemNameId])
)
